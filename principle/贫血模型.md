- 基于贫血模型的 MVC 三层架构开发模式，是一种面向过程的编程风格，被称为“反模式”。*领域驱动设计*是基于充血模型的开发模式，越来越被人提倡。

## 贫血模型：
### 贫血模型的定义：
1. 在大多数的后端项目中，Entity 和 DAO(Repository) 组成数据访问层，BO 和 Service 组成业务逻辑层，VO 和 Controller 组成接口层。BO 是一个纯粹的数据结构，只包含数据，不包含任何业务逻辑。业务逻辑集中在 Service 中。通过 Service 来操作 BO。Service 层的数据和业务逻辑，被分割为 BO 和 Service 两个类。这种 BO 不包含业务逻辑的类，就叫做 **贫血模型**。贫血模型将数据与操作分离，破坏了面向对象的封装特性，所以说是一种典型的面向对象的编程风格。

## 充血模型：
### 领域驱动设计
  - DDD, 主要用来**指导**如何解耦业务系统，**划分**业务模块，**定义**业务领域模型及其交互。（2004年提出，但是由于微服务的盛行加速了 DDD 的兴起）
  - 做好 DDD 的关键是：**看人对自己所做业务的熟悉程度，而不是对领域驱动设计这个概念本身的掌握程度。**
### 充血模型的定义：
1. 数据和对应的业务逻辑被封装到同一个类中国，因此，充血模型满足面向对象的封装特性，是典型的面向对象编程风格。
2. 基于充血模型的DDD开发模式实现的代码，也是按照 MVC 三层架构分层的。Controller 层负责暴露接口，Repository 层负责数据存取， Service 层负责核心业务逻辑。区别主要在 Service 层。
3. 基于贫血模型的传统的开发模式，重 Service 轻 BO；基于充血模型的 DDD 开发模式，轻 Service 重 Domain.

### 贫血模型之所以受欢迎的原因：
1. 业务简单，基本就是基于SQL的CRUD操作，无需动脑子精心设计充血模型，贫血模型就足以应付这种简单业务的工作。
2. 充血模型的设计要比贫血模型更加有难度。充血模型是一种面向对象的编程风格，一开始就要设计好针对数据要暴露那些操作，定义哪些业务逻辑。贫血模型只需要定义数据，后续有新的功能开发需求，就在 Service 层定义操作，不需要是事先做太多设计。
3. 思维固化。这种贫血模型已成为 Web 开发中事实上的标准，难以改变。

### 充血模型的应用场景：
1. 基于贫血模型的传统开发模式，比较适合业务比较简单的系统开发。
2. 基于充血模型的DDD开发模式，更适合业务复杂的系统开发。如：
   1. 包含各种利息计算模型；
   2. 还款模型等复杂业务的金融系统
3. 一句话概括平时的开发：街道一个后端接口的开发需求的时候，就去看接口需要的数据对应到数据库中国，需要哪张表或者哪几张表，然后思考如何编写SQL语句来获取数据。之后就是定义 Entity、BO、VO，然后模板式地往对应的 Repository、Service、Controller 类中添加代码。
4. 在基于充血模型的 DDD 的开发模式下，我们需要事先理清楚所有的业务，定义领域模型所包含的属性和方法。领域模型相当于可复用的业务中间层。新功能需求的开发，都基于之前定义好的这些领域模型来完成。
5. **越复杂的系统，对代码的复用性、易维护性要求就越高，我们就越应该花更多的时间和精力在前期设计上。**而基于充血模型的 DDD 开发模式，正好需要我们前期做大量的业务调研、领域模型设计，所以它更加适合这种复杂系统的开发。